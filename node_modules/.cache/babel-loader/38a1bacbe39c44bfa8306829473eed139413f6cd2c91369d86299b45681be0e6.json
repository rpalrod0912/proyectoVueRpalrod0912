{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*eslint-disable */\nimport { auth, signInWithEmailAndPassword } from \"@/firebaseConfig/firebaseConfig.js\";\nimport { getAuth } from \"@firebase/auth\";\nexport default {\n  name: \"LoginCom\",\n  props: {\n    validacionMail: {\n      Function\n    },\n    validacionContraseña: {\n      Function\n    }\n  },\n  data: () => ({\n    valid: true,\n    emailLogIn: \"\",\n    pwdLogIn: \"\",\n    userNotFound: false\n  }),\n  methods: {\n    logIn() {\n      debugger;\n      this.$refs.form.validate();\n      const sesion = this.logInFirebase;\n      //this.encontrarUsuario(this.emailLogIn, this.pwdLogIn);\n      //this.logInFirebase();\n    },\n\n    async logInFirebase() {\n      debugger;\n      const logInData = {\n        mail: this.emailLogIn,\n        pwd: this.pwdLogIn\n      };\n      await signInWithEmailAndPassword(auth, logInData.mail, logInData.pwd).then(userCredential => {\n        const user = userCredential.user;\n        console.log(user);\n        console.log(\"Iniciado sesion con exito\");\n      }).catch(error => {\n        debugger;\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log(\"INVALIDO\");\n      });\n    },\n    async encontrarUsuario(mail, contra) {\n      const datosEnviar = mail + \"&\" + contra;\n      const foundUser = await fetch(`http://localhost:3003/v1/api/users/login/${datosEnviar}`).then(res => res.json());\n      console.log(foundUser);\n      if (foundUser !== \"NOTFOUND\") {\n        this.$router.push(\"/\");\n      }\n      this.userNotFound = true;\n    }\n  }\n};","map":{"version":3,"mappings":";AAuDA;AACA,SACEA,IAAI,EACJC,0BAA0B,QACrB,oCAAoC;AAC3C,SAASC,OAAM,QAAS,gBAAgB;AACxC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE;IACLC,cAAc,EAAE;MAAEC;IAAS,CAAC;IAC5BC,oBAAoB,EAAE;MAAED;IAAS;EACnC,CAAC;EACDE,IAAI,EAAE,OAAO;IACXC,KAAK,EAAE,IAAI;IACXC,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE;EAChB,CAAC,CAAC;EACFC,OAAO,EAAE;IACPC,KAAK,GAAG;MACN;MACA,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,QAAQ,EAAE;MAC1B,MAAMC,MAAK,GAAI,IAAI,CAACC,aAAa;MACjC;MACA;IACF,CAAC;;IAED,MAAMA,aAAa,GAAG;MACpB;MAEA,MAAMC,SAAQ,GAAI;QAChBC,IAAI,EAAE,IAAI,CAACX,UAAU;QACrBY,GAAG,EAAE,IAAI,CAACX;MACZ,CAAC;MACD,MAAMV,0BAA0B,CAACD,IAAI,EAAEoB,SAAS,CAACC,IAAI,EAAED,SAAS,CAACE,GAAG,EACjEC,IAAI,CAAEC,cAAc,IAAK;QACxB,MAAMC,IAAG,GAAID,cAAc,CAACC,IAAI;QAChCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAC1C,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChB;QACA,MAAMC,SAAQ,GAAID,KAAK,CAACE,IAAI;QAC5B,MAAMC,YAAW,GAAIH,KAAK,CAACI,OAAO;QAClCP,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MACzB,CAAC,CAAC;IACN,CAAC;IACD,MAAMO,gBAAgB,CAACb,IAAI,EAAEc,MAAM,EAAE;MACnC,MAAMC,WAAU,GAAIf,IAAG,GAAI,GAAE,GAAIc,MAAM;MACvC,MAAME,SAAQ,GAAI,MAAMC,KAAK,CAC1B,4CAA2CF,WAAY,GACzD,CAACb,IAAI,CAAEgB,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC;MAC3Bd,OAAO,CAACC,GAAG,CAACU,SAAS,CAAC;MACtB,IAAIA,SAAQ,KAAM,UAAU,EAAE;QAC5B,IAAI,CAACI,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACxB;MACA,IAAI,CAAC9B,YAAW,GAAI,IAAI;IAC1B;EACF;AACF,CAAC","names":["auth","signInWithEmailAndPassword","getAuth","name","props","validacionMail","Function","validacionContraseña","data","valid","emailLogIn","pwdLogIn","userNotFound","methods","logIn","$refs","form","validate","sesion","logInFirebase","logInData","mail","pwd","then","userCredential","user","console","log","catch","error","errorCode","code","errorMessage","message","encontrarUsuario","contra","datosEnviar","foundUser","fetch","res","json","$router","push"],"sourceRoot":"","sources":["/home/rafa/Vue/proyectovue/src/components/LoginCom.vue"],"sourcesContent":["<template>\n  <v-col cols=\"12\" md=\"6\">\n    <v-form ref=\"form\" v-model=\"this.valid\" miValidacion>\n      <v-card-text class=\"mt-12\">\n        <h4 class=\"text-center\">Inicia Sesión en tu cuenta</h4>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" sm=\"8\">\n            <v-text-field\n              v-model=\"emailLogIn\"\n              label=\"Correo Electrónico\"\n              outlined\n              dense\n              color=\"blue\"\n              autocomplete=\"false\"\n              class=\"mt-16\"\n              :rules=\"validacionMail\"\n              required\n            />\n            <v-text-field\n              v-model=\"pwdLogIn\"\n              label=\"Contraseña\"\n              outlined\n              dense\n              :rules=\"validacionContraseña\"\n              color=\"blue\"\n              autocomplete=\"false\"\n              type=\"password\"\n              required\n            />\n            <v-row>\n              <v-col cols=\"12\" sm=\"7\">\n                <v-checkbox label=\"Recordar\" class=\"mt-n1\" color=\"blue\">\n                </v-checkbox>\n              </v-col>\n            </v-row>\n            <h3 style=\"color: red\" v-if=\"userNotFound\">\n              USUARIO NO ENCONTRADO\n            </h3>\n            <v-btn\n              :disabled=\"!valid\"\n              color=\"success\"\n              dark\n              block\n              tile\n              @click=\"logIn()\"\n              >INICIAR SESIÓN</v-btn\n            >\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-form>\n  </v-col>\n</template>\n\n<script>\n/*eslint-disable */\nimport {\n  auth,\n  signInWithEmailAndPassword,\n} from \"@/firebaseConfig/firebaseConfig.js\";\nimport { getAuth } from \"@firebase/auth\";\nexport default {\n  name: \"LoginCom\",\n  props: {\n    validacionMail: { Function },\n    validacionContraseña: { Function },\n  },\n  data: () => ({\n    valid: true,\n    emailLogIn: \"\",\n    pwdLogIn: \"\",\n    userNotFound: false,\n  }),\n  methods: {\n    logIn() {\n      debugger;\n      this.$refs.form.validate();\n      const sesion = this.logInFirebase;\n      //this.encontrarUsuario(this.emailLogIn, this.pwdLogIn);\n      //this.logInFirebase();\n    },\n\n    async logInFirebase() {\n      debugger;\n\n      const logInData = {\n        mail: this.emailLogIn,\n        pwd: this.pwdLogIn,\n      };\n      await signInWithEmailAndPassword(auth, logInData.mail, logInData.pwd)\n        .then((userCredential) => {\n          const user = userCredential.user;\n          console.log(user);\n          console.log(\"Iniciado sesion con exito\");\n        })\n        .catch((error) => {\n          debugger;\n          const errorCode = error.code;\n          const errorMessage = error.message;\n          console.log(\"INVALIDO\");\n        });\n    },\n    async encontrarUsuario(mail, contra) {\n      const datosEnviar = mail + \"&\" + contra;\n      const foundUser = await fetch(\n        `http://localhost:3003/v1/api/users/login/${datosEnviar}`\n      ).then((res) => res.json());\n      console.log(foundUser);\n      if (foundUser !== \"NOTFOUND\") {\n        this.$router.push(\"/\");\n      }\n      this.userNotFound = true;\n    },\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}