{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  /*eslint-disable*/\n  //Pasamos Propiedades del componente padre\n  name: \"ProductsView\",\n  data() {\n    return {\n      saleFilter: false,\n      ofertasArray: [],\n      loadOfertas: false,\n      sizesFilter: true\n    };\n  },\n  computed: {\n    async filterSalesArr() {\n      /*\n      const arrFiltrado = this.imgArray.filter(function (objeto) {\n        return objeto.hasOwnProperty(\"oferta\");\n      });*/\n      debugger;\n      this.ofertasArray = await this.cargarOfertas();\n      this.loadOfertas = true;\n      debugger;\n      return this.ofertasArray;\n      console.log(this.ofertasArray);\n    }\n  },\n  props: {\n    carga: {\n      type: Boolean\n    },\n    imgArray: {\n      type: Array\n    },\n    brands: {\n      type: Array\n    },\n    tallas: {\n      type: Array\n    }\n  },\n  methods: {\n    sizeFilterState() {\n      if (this.sizesFilter) {\n        this.sizesFilter = false;\n      } else {\n        this.sizesFilter = true;\n      }\n    },\n    aplicarDescuento(precio, porcentaje) {\n      const resultado = precio - precio * porcentaje / 100;\n      return resultado;\n    },\n    async cargarOfertas() {\n      let emptyArr = [];\n      let numberId = 0;\n      this.miImagen = \"Pensando...\";\n      const data = await fetch(`http://localhost:3003/v1/api/productos/ofertas`).then(res => res.json());\n      while (emptyArr.length < data.length) {\n        emptyArr.push(data[numberId]);\n        console.log(data);\n        numberId += 1;\n      }\n      return emptyArr;\n    },\n    filtrarOfertas() {\n      if (this.saleFilter) {\n        this.filterSalesArr();\n      }\n    }\n  },\n  watcher: {\n    saleFilter(newVal, oldVal) {\n      debugger;\n      console.log(this.saleFilter);\n    }\n  }\n};","map":{"version":3,"mappings":";AAgRA,eAAe;EACb;EACA;EACAA,IAAI,EAAE,cAAc;EAEpBC,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,MAAMC,cAAc,GAAG;MACrB;;;;MAIA;MACA,IAAI,CAACJ,YAAW,GAAI,MAAM,IAAI,CAACK,aAAa,EAAE;MAC9C,IAAI,CAACJ,WAAU,GAAI,IAAI;MACvB;MACA,OAAO,IAAI,CAACD,YAAY;MACxBM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,YAAY,CAAC;IAChC;EACF,CAAC;EACDQ,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC;IACR,CAAC;IACDC,QAAQ,EAAE;MACRF,IAAI,EAAEG;IACR,CAAC;IACDC,MAAM,EAAE;MACNJ,IAAI,EAAEG;IACR,CAAC;IACDE,MAAM,EAAE;MACNL,IAAI,EAAEG;IACR;EACF,CAAC;EACDG,OAAO,EAAE;IACPC,eAAe,GAAG;MAChB,IAAI,IAAI,CAACf,WAAW,EAAE;QACpB,IAAI,CAACA,WAAU,GAAI,KAAK;MAC1B,OAAO;QACL,IAAI,CAACA,WAAU,GAAI,IAAI;MACzB;IACF,CAAC;IACDgB,gBAAgB,CAACC,MAAM,EAAEC,UAAU,EAAE;MACnC,MAAMC,SAAQ,GAAIF,MAAK,GAAKA,MAAK,GAAIC,UAAU,GAAI,GAAG;MACtD,OAAOC,SAAS;IAClB,CAAC;IACD,MAAMhB,aAAa,GAAG;MACpB,IAAIiB,QAAO,GAAI,EAAE;MACjB,IAAIC,QAAO,GAAI,CAAC;MAChB,IAAI,CAACC,QAAO,GAAI,aAAa;MAC7B,MAAM1B,IAAG,GAAI,MAAM2B,KAAK,CACrB,gDAA8C,CAChD,CAACC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC;MAC3B,OAAON,QAAQ,CAACO,MAAK,GAAI/B,IAAI,CAAC+B,MAAM,EAAE;QACpCP,QAAQ,CAACQ,IAAI,CAAChC,IAAI,CAACyB,QAAQ,CAAC,CAAC;QAC7BjB,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC;QACjByB,QAAO,IAAK,CAAC;MACf;MACA,OAAOD,QAAQ;IACjB,CAAC;IACDS,cAAc,GAAG;MACf,IAAI,IAAI,CAAChC,UAAU,EAAE;QACnB,IAAI,CAACK,cAAc,EAAE;MACvB;IACF;EACF,CAAC;EACD4B,OAAO,EAAE;IACPjC,UAAU,CAACkC,MAAM,EAAEC,MAAM,EAAE;MACzB;MACA5B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,UAAU,CAAC;IAC9B;EACF;AACF,CAAC","names":["name","data","saleFilter","ofertasArray","loadOfertas","sizesFilter","computed","filterSalesArr","cargarOfertas","console","log","props","carga","type","Boolean","imgArray","Array","brands","tallas","methods","sizeFilterState","aplicarDescuento","precio","porcentaje","resultado","emptyArr","numberId","miImagen","fetch","then","res","json","length","push","filtrarOfertas","watcher","newVal","oldVal"],"sourceRoot":"","sources":["/home/rafa/Vue/proyectovue/src/components/ProductsView.vue"],"sourcesContent":["<template>\n  <v-row>\n    <v-col cols=\"12\" sm=\"3\" class=\"mt-n6 pr-0\">\n      <v-toolbar flat outlined>\n        <v-toolbar-title><strong>Filtro</strong></v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-divider vertical></v-divider>\n        <v-btn icon class=\"m1-1\">\n          <v-icon color=\"#3853D8\"> mdi-sync </v-icon>\n        </v-btn>\n      </v-toolbar>\n    </v-col>\n    <v-col cols=\"12\" sm=\"3\" class=\"mt-n6 px-0\">\n      <v-toolbar flat outlined>\n        <v-toolbar-title>\n          DEPORTE POR:<span>Precio €-€€</span>\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn icon class=\"mr-4\">\n          <v-icon color=\"black\">mdi-menu-down</v-icon>\n        </v-btn>\n      </v-toolbar>\n    </v-col>\n    <v-col cols=\"12\" sm=\"3\" class=\"mt-n6 px-0\">\n      <v-toolbar flat outlined class=\"\">\n        <v-toolbar-title>MOSTRAR: <span>12</span></v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn icon class=\"mr-4\">\n          <v-icon color=\"black\">mdi-menu-down</v-icon>\n        </v-btn>\n      </v-toolbar>\n    </v-col>\n    <v-col cols=\"12\" sm=\"3\" class=\"mt-n6 p1-0 salesFilter\">\n      <v-toolbar flat outlined>\n        <v-checkbox\n          v-model=\"saleFilter\"\n          @change=\"filtrarOfertas\"\n          label=\"Ofertas\"\n        ></v-checkbox>\n      </v-toolbar>\n    </v-col>\n    <v-col cols=\"3\" class=\"py-0 pr-0 mt-n3\">\n      <v-card flat otulined tile>\n        <v-toolbar flat>\n          <v-icon color=\"black\" class=\"mr-2\">mdi-chevron-down</v-icon>\n          <strong>CATEGORIAS</strong>\n          <v-spacer></v-spacer>\n          <v-icon color=\"grey\" small>mdi-close</v-icon>\n        </v-toolbar>\n        <v-list dense class=\"mt-n5\">\n          <v-list-item v-for=\"style in styles\" :key=\"style.title\">\n            <v-list-item-content>\n              <v-list-item-title\n                v-text=\"style.title\"\n                class=\"ml-8\"\n              ></v-list-item-title>\n            </v-list-item-content>\n            <v-list-item-action>\n              <v-list-item-subtitle v-text=\"style.count\"></v-list-item-subtitle>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n      </v-card>\n      <v-card flat outlined tile>\n        <v-toolbar flat>\n          <v-icon color=\"black\" class=\"mr-2\">msi-chevron-down</v-icon>\n          <strong>PRECIO</strong>\n          <v-spacer></v-spacer>\n          <v-icon color=\"grey\" small>mdi-close</v-icon>\n        </v-toolbar>\n        <v-toolbar flat>\n          <v-text-field\n            placeholder=\"50€\"\n            filled\n            rounded\n            dense\n            class=\"mx-2\"\n          ></v-text-field>\n          <v-text-field\n            placeholder=\"2000€\"\n            filled\n            rounded\n            dense\n            class=\"mx-2\"\n          ></v-text-field>\n        </v-toolbar>\n        <v-range-slider color=\"blue\" max=\"40\" min=\"-30\"></v-range-slider>\n      </v-card>\n      <v-card flat outlined tile>\n        <v-toolbar flat>\n          <v-icon color=\"black\" class=\"mr-2\">mdi-chevron-down</v-icon>\n          <strong>MODELOS</strong>\n          <v-spacer></v-spacer>\n          <v-icon color=\"grey\" small>mdi-close</v-icon>\n        </v-toolbar>\n        <v-list dense class=\"mt-n5\">\n          <v-list-item v-for=\"brand in brands\" :key=\"brand.title\">\n            <v-list-item-content>\n              <v-list-item-title\n                v-text=\"brand.title\"\n                class=\"m1-6\"\n              ></v-list-item-title\n            ></v-list-item-content>\n            <v-list-item-action>\n              <v-checkbox color=\"primary\" v-model=\"brand.state\"></v-checkbox>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n      </v-card>\n      <v-card flat outlined tile>\n        <v-toolbar flat>\n          <v-icon color=\"black\" class=\"mr-2\">mdi-chevron-down</v-icon>\n          <strong>COLOR</strong>\n          <v-spacer></v-spacer>\n          <v-icon color=\"grey\" small>mdi-close</v-icon>\n        </v-toolbar>\n        <v-chip-group column multiple>\n          <v-chip\n            @click=\"sizesFilter = true\"\n            filter\n            class=\"ma-2\"\n            color=\"lightgrey\"\n          >\n            BLANCO\n          </v-chip>\n\n          <v-chip filter class=\"ma-2\" color=\"grey\"> NEGRO </v-chip>\n\n          <v-chip filter class=\"ma-2\" color=\"blue\"> AZUL </v-chip>\n\n          <v-chip filter class=\"ma-2\" color=\"red\" text-color=\"white\"\n            >ROJO</v-chip\n          >\n\n          <v-chip filter class=\"ma-2\" outlined color=\"green\" text-color=\"white\">\n            VERDE\n          </v-chip>\n        </v-chip-group>\n      </v-card>\n      <v-card flat outlined>\n        <v-toolbar flat>\n          <v-icon color=\"black\" class=\"mr-2\">mdi-chevron-down</v-icon>\n          <strong>TAMAÑO</strong>\n          <v-spacer></v-spacer>\n          <v-icon color=\"grey\" small>mdi-close</v-icon>\n        </v-toolbar>\n        <v-chip-group column multiple class=\"m1-2\">\n          <v-chip\n            filter\n            color=\"blue white--text\"\n            v-for=\"talla in tallas\"\n            :key=\"talla\"\n            :value=\"talla\"\n          >\n            {{ talla }}</v-chip\n          >\n        </v-chip-group>\n      </v-card>\n    </v-col>\n\n    <v-col v-if=\"carga\" cols=\"9\" class=\"mt-n3\">\n      <v-row v-if=\"saleFilter\">\n        <v-col\n          cols=\"12\"\n          sm=\"4\"\n          v-for=\"(producto, index) in this.ofertasArray\"\n          :key=\"index\"\n          class=\"pa-0\"\n        >\n          <v-hover v-slot=\"{ hover }\" open-delay=\"200\">\n            <v-card\n              :elevation=\"hover ? 16 : 2\"\n              height=\"300\"\n              class=\"d-flex flex-column align-center mb-3\"\n              text-align=\"center\"\n              variant=\"outlined\"\n            >\n              <v-spacer></v-spacer>\n\n              <v-btn color=\"red\" small dark\n                >OFERTA:{{ producto.oferta }}%</v-btn\n              >\n\n              <v-img\n                :src=\"producto.imagen\"\n                width=\"200\"\n                height=\"200\"\n                contain\n              ></v-img>\n              <v-card-text class=\"mt-n4\">\n                <strong :class=\"{ 'on-hover': hover }\">{{\n                  producto.nombre\n                }}</strong>\n              </v-card-text>\n              <v-card-text class=\"mt-n4\" style=\"padding: 0px\">\n                <strong\n                  v-if=\"producto.oferta\"\n                  font-color=\"red\"\n                  class=\"colPrecioOfer\"\n                  >{{\n                    this.aplicarDescuento(producto.precio, producto.oferta)\n                  }}\n                  €</strong\n                >\n                <strong v-else :class=\"{ 'on-hover': hover }\"\n                  >{{ producto.precio }} €</strong\n                >\n              </v-card-text>\n            </v-card>\n          </v-hover>\n        </v-col>\n      </v-row>\n      <v-row v-else>\n        <v-col\n          cols=\"12\"\n          sm=\"4\"\n          v-for=\"(producto, index) in this.imgArray\"\n          :key=\"index\"\n          class=\"pa-0\"\n        >\n          <v-hover v-slot=\"{ hover }\" open-delay=\"200\">\n            <v-card\n              :elevation=\"hover ? 16 : 2\"\n              height=\"300\"\n              class=\"d-flex flex-column align-center mb-3\"\n              text-align=\"center\"\n              variant=\"outlined\"\n            >\n              <v-spacer></v-spacer>\n\n              <v-btn v-if=\"producto.oferta\" color=\"red\" small dark\n                >OFERTA:{{ producto.oferta }}%</v-btn\n              >\n\n              <v-img\n                :src=\"producto.imagen\"\n                width=\"200\"\n                height=\"200\"\n                contain\n              ></v-img>\n              <v-card-text class=\"mt-n4\">\n                <strong :class=\"{ 'on-hover': hover }\">{{\n                  producto.nombre\n                }}</strong>\n              </v-card-text>\n              <v-card-text class=\"mt-n4\" style=\"padding: 0px\">\n                <strong\n                  v-if=\"producto.oferta\"\n                  font-color=\"red\"\n                  class=\"colPrecioOfer\"\n                  >{{\n                    this.aplicarDescuento(producto.precio, producto.oferta)\n                  }}\n                  €</strong\n                >\n                <strong v-else :class=\"{ 'on-hover': hover }\"\n                  >{{ producto.precio }} €</strong\n                >\n              </v-card-text>\n            </v-card>\n          </v-hover>\n        </v-col>\n      </v-row>\n    </v-col>\n\n    <v-col v-else>\n      <h1>Cargando...</h1>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nexport default {\n  /*eslint-disable*/\n  //Pasamos Propiedades del componente padre\n  name: \"ProductsView\",\n\n  data() {\n    return {\n      saleFilter: false,\n      ofertasArray: [],\n      loadOfertas: false,\n      sizesFilter: true,\n    };\n  },\n  computed: {\n    async filterSalesArr() {\n      /*\n      const arrFiltrado = this.imgArray.filter(function (objeto) {\n        return objeto.hasOwnProperty(\"oferta\");\n      });*/\n      debugger;\n      this.ofertasArray = await this.cargarOfertas();\n      this.loadOfertas = true;\n      debugger;\n      return this.ofertasArray;\n      console.log(this.ofertasArray);\n    },\n  },\n  props: {\n    carga: {\n      type: Boolean,\n    },\n    imgArray: {\n      type: Array,\n    },\n    brands: {\n      type: Array,\n    },\n    tallas: {\n      type: Array,\n    },\n  },\n  methods: {\n    sizeFilterState() {\n      if (this.sizesFilter) {\n        this.sizesFilter = false;\n      } else {\n        this.sizesFilter = true;\n      }\n    },\n    aplicarDescuento(precio, porcentaje) {\n      const resultado = precio - (precio * porcentaje) / 100;\n      return resultado;\n    },\n    async cargarOfertas() {\n      let emptyArr = [];\n      let numberId = 0;\n      this.miImagen = \"Pensando...\";\n      const data = await fetch(\n        `http://localhost:3003/v1/api/productos/ofertas`\n      ).then((res) => res.json());\n      while (emptyArr.length < data.length) {\n        emptyArr.push(data[numberId]);\n        console.log(data);\n        numberId += 1;\n      }\n      return emptyArr;\n    },\n    filtrarOfertas() {\n      if (this.saleFilter) {\n        this.filterSalesArr();\n      }\n    },\n  },\n  watcher: {\n    saleFilter(newVal, oldVal) {\n      debugger;\n      console.log(this.saleFilter);\n    },\n  },\n};\n</script>\n\n<style>\n.colPrecioOfer {\n  color: red;\n}\n\n.salesCheck {\n  color: black;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}