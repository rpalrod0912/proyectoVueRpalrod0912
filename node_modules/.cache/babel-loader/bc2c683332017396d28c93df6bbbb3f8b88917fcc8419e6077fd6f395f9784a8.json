{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"text-center\"\n}, \"Inicia Sesión en tu cuenta\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_3 = {\n  key: 1,\n  style: {\n    \"color\": \"red\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  return _openBlock(), _createBlock(_component_v_col, {\n    cols: \"12\",\n    md: \"6\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_form, {\n      ref: \"form\",\n      modelValue: this.valid,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => this.valid = $event),\n      miValidacion: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_card_text, {\n        class: \"mt-12\"\n      }, {\n        default: _withCtx(() => [_hoisted_1, _createVNode(_component_v_row, {\n          align: \"center\",\n          justify: \"center\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_col, {\n            cols: \"12\",\n            sm: \"8\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_text_field, {\n              modelValue: _ctx.emailLogIn,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.emailLogIn = $event),\n              label: \"Correo Electrónico\",\n              outlined: \"\",\n              dense: \"\",\n              color: \"blue\",\n              autocomplete: \"false\",\n              class: \"mt-16\",\n              rules: $props.validacionMail,\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_text_field, {\n              modelValue: _ctx.pwdLogIn,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.pwdLogIn = $event),\n              label: \"Contraseña\",\n              outlined: \"\",\n              dense: \"\",\n              rules: $props.validacionContraseña,\n              color: \"blue\",\n              autocomplete: \"false\",\n              type: \"password\",\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_row, null, {\n              default: _withCtx(() => [_createVNode(_component_v_col, {\n                cols: \"12\",\n                sm: \"7\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_checkbox, {\n                  label: \"Recordar\",\n                  class: \"mt-n1\",\n                  color: \"blue\"\n                })]),\n                _: 1 /* STABLE */\n              })]),\n\n              _: 1 /* STABLE */\n            }), _ctx.userNotFound ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_2, \" Usuario no encontrado \")) : _createCommentVNode(\"v-if\", true), _ctx.passwordNotFound ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_3, \" Contraseña incorrecta \")) : _createCommentVNode(\"v-if\", true), _createVNode(_component_v_btn, {\n              disabled: !_ctx.valid,\n              color: \"success\",\n              dark: \"\",\n              block: \"\",\n              tile: \"\",\n              onClick: _cache[2] || (_cache[2] = $event => $options.logIn())\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"INICIAR SESIÓN\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"disabled\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":";gCAIQA,oBAAuD;EAAnDC,KAAK,EAAC;AAAa,GAAC,4BAA0B;;;EA+B1CC,KAAkB,EAAlB;IAAA;EAAA;;;;EAGAA,KAAkB,EAAlB;IAAA;EAAA;;;;;;;;;;uBArCdC,aAqDQC;IArDDC,IAAI,EAAC,IAAI;IAACC,EAAE,EAAC;;sBAClB,MAmDS,CAnDTC,aAmDSC;MAnDDC,GAAG,EAAC,MAAM;uBAAeC,KAAK;sEAALA,KAAK;MAAEC,YAAY,EAAZ;;wBACtC,MAiDc,CAjDdJ,aAiDcK;QAjDDX,KAAK,EAAC;MAAO;0BACxB,MAAuD,CAAvDY,UAAuD,EACvDN,aA8CQO;UA9CDC,KAAK,EAAC,QAAQ;UAACC,OAAO,EAAC;;4BAC5B,MA4CQ,CA5CRT,aA4CQH;YA5CDC,IAAI,EAAC,IAAI;YAACY,EAAE,EAAC;;8BAClB,MAUE,CAVFV,aAUEW;0BATSC,eAAU;yEAAVA,eAAU;cACnBC,KAAK,EAAC,oBAAoB;cAC1BC,QAAQ,EAAR,EAAQ;cACRC,KAAK,EAAL,EAAK;cACLC,KAAK,EAAC,MAAM;cACZC,YAAY,EAAC,OAAO;cACpBvB,KAAK,EAAC,OAAO;cACZwB,KAAK,EAAEC,qBAAc;cACtBC,QAAQ,EAAR;8DAEFpB,aAUEW;0BATSC,aAAQ;yEAARA,aAAQ;cACjBC,KAAK,EAAC,YAAY;cAClBC,QAAQ,EAAR,EAAQ;cACRC,KAAK,EAAL,EAAK;cACJG,KAAK,EAAEC,2BAAoB;cAC5BH,KAAK,EAAC,MAAM;cACZC,YAAY,EAAC,OAAO;cACpBI,IAAI,EAAC,UAAU;cACfD,QAAQ,EAAR;8DAEFpB,aAKQO;gCAJN,MAGQ,CAHRP,aAGQH;gBAHDC,IAAI,EAAC,IAAI;gBAACY,EAAE,EAAC;;kCAClB,MACa,CADbV,aACasB;kBADDT,KAAK,EAAC,UAAU;kBAACnB,KAAK,EAAC,OAAO;kBAACsB,KAAK,EAAC;;;;;;gBAIxBJ,iBAAY,kBAAzCW,oBAEK,MAFLC,UAEK,EAFsC,yBAE3C,wCAC6BZ,qBAAgB,kBAA7CW,oBAEK,MAFLE,UAEK,EAF0C,yBAE/C,wCACAzB,aAQC0B;cAPEC,QAAQ,GAAGf,UAAK;cACjBI,KAAK,EAAC,SAAS;cACfY,IAAI,EAAJ,EAAI;cACJC,KAAK,EAAL,EAAK;cACLC,IAAI,EAAJ,EAAI;cACHC,OAAK,sCAAEC,cAAK;;gCACZ,MAAc,kBAAd,gBAAc","names":["_createElementVNode","class","style","_createBlock","_component_v_col","cols","md","_createVNode","_component_v_form","ref","valid","miValidacion","_component_v_card_text","_hoisted_1","_component_v_row","align","justify","sm","_component_v_text_field","_ctx","label","outlined","dense","color","autocomplete","rules","$props","required","type","_component_v_checkbox","_createElementBlock","_hoisted_2","_hoisted_3","_component_v_btn","disabled","dark","block","tile","onClick","$options"],"sourceRoot":"","sources":["/home/rafa/Vue/proyectovue/src/components/LoginCom.vue"],"sourcesContent":["<template>\n  <v-col cols=\"12\" md=\"6\">\n    <v-form ref=\"form\" v-model=\"this.valid\" miValidacion>\n      <v-card-text class=\"mt-12\">\n        <h4 class=\"text-center\">Inicia Sesión en tu cuenta</h4>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" sm=\"8\">\n            <v-text-field\n              v-model=\"emailLogIn\"\n              label=\"Correo Electrónico\"\n              outlined\n              dense\n              color=\"blue\"\n              autocomplete=\"false\"\n              class=\"mt-16\"\n              :rules=\"validacionMail\"\n              required\n            />\n            <v-text-field\n              v-model=\"pwdLogIn\"\n              label=\"Contraseña\"\n              outlined\n              dense\n              :rules=\"validacionContraseña\"\n              color=\"blue\"\n              autocomplete=\"false\"\n              type=\"password\"\n              required\n            />\n            <v-row>\n              <v-col cols=\"12\" sm=\"7\">\n                <v-checkbox label=\"Recordar\" class=\"mt-n1\" color=\"blue\">\n                </v-checkbox>\n              </v-col>\n            </v-row>\n            <h3 style=\"color: red\" v-if=\"userNotFound\">\n              Usuario no encontrado\n            </h3>\n            <h3 style=\"color: red\" v-if=\"passwordNotFound\">\n              Contraseña incorrecta\n            </h3>\n            <v-btn\n              :disabled=\"!valid\"\n              color=\"success\"\n              dark\n              block\n              tile\n              @click=\"logIn()\"\n              >INICIAR SESIÓN</v-btn\n            >\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-form>\n  </v-col>\n</template>\n\n<script>\n/*eslint-disable */\nimport {\n  auth,\n  signInWithEmailAndPassword,\n} from \"@/firebaseConfig/firebaseConfig.js\";\nimport { getAuth } from \"@firebase/auth\";\nexport default {\n  name: \"LoginCom\",\n  props: {\n    validacionMail: { Function },\n    validacionContraseña: { Function },\n  },\n  data: () => ({\n    valid: true,\n    emailLogIn: \"\",\n    pwdLogIn: \"\",\n    userNotFound: false,\n    passwordNotFound: false,\n  }),\n  methods: {\n    logIn() {\n      debugger;\n      this.$refs.form.validate();\n      this.logInFirebase();\n      //this.encontrarUsuario(this.emailLogIn, this.pwdLogIn);\n      //this.logInFirebase();\n    },\n\n    async logInFirebase() {\n      const logInData = {\n        mail: this.emailLogIn,\n        pwd: this.pwdLogIn,\n      };\n      await signInWithEmailAndPassword(auth, logInData.mail, logInData.pwd)\n        .then((userCredential) => {\n          this.userNotFound = false;\n          this.passwordNotFound = true;\n          const user = userCredential.user;\n          this.encontrarUsuario(user.email);\n        })\n        .catch((error) => {\n          debugger;\n          const errorCode = error.code;\n          if (errorCode === \"auth/user-not-found\") {\n            this.userNotFound = true;\n          }\n          if (errorCode === \"auth/wrong-password\") {\n            this.passwordNotFound = true;\n          }\n          const errorMessage = error.message;\n        });\n    },\n    async encontrarUsuario(email) {\n      const mail = email;\n      const foundUser = await fetch(\n        `http://localhost:3003/v1/api/users/login/${mail}`\n      ).then((res) => res.json());\n      console.log(foundUser);\n\n      if (foundUser !== \"NOTFOUND\") {\n        this.$router.push(\"/\");\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}